(function(e){function u(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t=new Array,n=new Array,r=new Array,i=new Array,s=null;var o={init:function(u,a){var f=e.extend({bind:"click",passwordElement:null,displayElement:null,passwordLength:16,uppercase:true,lowercase:true,numbers:true,specialChars:true,onPasswordGenerated:function(e){}},u);for(var l=48;l<58;l++)t.push(l);for(l=65;l<91;l++)n.push(l);for(l=97;l<123;l++)r.push(l);i=[33,35,64,36,38,42,91,93,123,125,92,47,63,58,59,95,45,53];return this.each(function(){s=e(this);s.bind(f.bind,function(e){e.preventDefault();o.generatePassword(f)})})},generatePassword:function(s){var o=new Array,f=s.uppercase+s.lowercase+s.numbers+s.specialChars,l=0,c=new Array;var h=Math.floor(s.passwordLength/f);if(s.uppercase){for(var p=0;p<h;p++){o.push(String.fromCharCode(n[a(0,n.length-1)]))}c=c.concat(n);l++}if(s.numbers){for(var p=0;p<h;p++){o.push(String.fromCharCode(t[a(0,t.length-1)]))}c=c.concat(t);l++}if(s.specialChars){for(var p=0;p<h;p++){o.push(String.fromCharCode(i[a(0,i.length-1)]))}c=c.concat(i);l++}var d=s.passwordLength-l*h;if(s.lowercase){for(var p=0;p<d;p++){o.push(String.fromCharCode(r[a(0,r.length-1)]))}}else{for(var p=0;p<d;p++){o.push(String.fromCharCode(c[a(0,c.length-1)]))}}o=u(o);passwordString=o.join("");if(s.passwordElement!==null){e(s.passwordElement).val(passwordString)}if(s.displayElement!==null){if(e(s.displayElement).is("input")){e(s.displayElement).val(passwordString)}else{e(s.displayElement).text(passwordString)}}s.onPasswordGenerated(passwordString)}};e.fn.pGenerator=function(t){if(o[t]){return o[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return o.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on jQuery.pGenerator")}}})(tulipa)